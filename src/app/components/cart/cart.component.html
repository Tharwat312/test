<section class="bg-main-light rounded-4 p-4 my-4 mx-auto w-75 ">
    <h1 class="h3 text-center fw-bolder">My shopping cart</h1>
    
@if (cartData.totalCartPrice>0) {
    <div class="d-flex justify-content-between">
        <div [routerLink]="['/orders', cartData._id]" class=" ">
            <p class="btn-main ">Check out</p>
        </div>
        <div class="">
            <p (click)=" clearItems()" class="redborder cr " >Clear cart</p>
    
        </div>
    </div>

    <p class="mt-3 fw-bold">Total cart price: {{cartData.totalCartPrice | currency: 'GBP'}}</p>

}@else {
    <div class=" d-flex justify-content-center">
        <img class="" src="assets/images/empty cart.png" alt="">

    </div>
}

    @for (item of cartData.products; track item.product.id) {
        <div class="row mb-3 mt-3">
            <div class="col-md-3">
                <img class="w-100 rounded-5" [src]="item.product.imageCover" alt="">
    
            </div>
    
            <div class="col-md-9 d-flex flex-column justify-content-between ">
                <div>
                <p class="text-muted">{{item.product.category.name}}</p>
                <p class="fw-bold text-main">{{item.product.title}}</p>
                <p>Price:{{item.price}}</p>
                <div>
                    <div>
                        <img width="50" src="assets/images/free-shipping_5371541.png" alt="">
                    <span class="fw-bold text-success"> Free shipping</span>
                    </div>
                    <div>
                    <span (click)="updateQuantity(item.product._id,  item.count +1 )" class=" my-2 mx-2"><i class="text-success fa-solid fa-square-plus cr"></i> </span>
                    <span>{{item.count}} </span> 
                    <span (click)="updateQuantity(item.product._id, item.count -1)"> <i class="text-danger cr fa-solid fa-square-minus"></i></span>
                    </div>
                </div>
                </div>
                <div>
                    
                <p class="text-danger cr" (click)="deleteProduct(item.product._id)"><i class="fa-solid fa-trash-can" ></i>Delete</p>
                </div>
            </div>
        </div>
        <hr>
    }




</section>
